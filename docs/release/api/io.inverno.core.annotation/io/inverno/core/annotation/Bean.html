<!DOCTYPE HTML>
<html lang="fr">
<head>
<!-- Generated by javadoc (21) on Wed Feb 12 14:25:10 CET 2025 -->
<title>Bean (Inverno Framework SDK 1.12.1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-02-12">
<meta name="description" content="declaration: module: io.inverno.core.annotation, package: io.inverno.core.annotation, annotation type: Bean">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">io.inverno.core.annotation</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.inverno.core.annotation</a></div>
<h1 title="Annotation Interface Bean" class="title">Annotation Interface Bean</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#CLASS" title="class or interface in java.lang.annotation" class="external-link">CLASS</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Bean</span></div>
<div class="block"><p>
 Indicates that an annotated class or interface is a bean. Inside a module, a bean represents one or more instances that can be wired to other bean instances visible to this module.
 </p>

 <p>
 A bean is fully identified by its name (which defaults to the name of the class) and the name of the module exposing the bean (e.g. [MODULE_NAME]:[BEAN_NAME]). We can differentiate three kinds of
 beans: module bean, wrapper bean and socket bean.
 </p>

 <p>
 A module bean is automatically instantiated and wired. Its dependencies must be defined in injection points or sockets which can be either the constructor for required dependencies or setter
 methods for optional dependencies. By convention, any setter method is considered as a socket which may lead to ambiguities. In that case a <a href="BeanSocket.html" title="annotation interface in io.inverno.core.annotation"><code>@BeanSocket</code></a> annotation can be used to
 specify explicit bean sockets.
 </p>

 <pre><code>
 @Bean
 public class ModuleBean implements SomeService {

     public ModuleBean(RequiredDependency requiredDependency) {
         ...
     }

     public void setOptionalDependency(OptionalDependency optionalDependency) {
         ...
     }

     @Init
     public void init() {
         ...
     }

     @Destroy
     public void destroy() {
         ...
     }
 }
 </code></pre>

 <p>
 A wrapper bean is used to expose legacy code that can't be instrumented. A wrapper bean must be a class annotated with <a href="Bean.html" title="annotation interface in io.inverno.core.annotation"><code>@Bean</code></a> and <a href="Wrapper.html" title="annotation interface in io.inverno.core.annotation"><code>@Wrapper</code></a> and implements
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a>.
 </p>

 <pre><code>
 @Bean
 @Wrapper
 public class WrapperBean implements Supplier&lt;SomeService&gt; {

     private WeakReference{@literal &lt;SomeService&gt;} instance;

     public WrapperBean(RequiredDependency requiredDependency) {
         // Instantiate the wrapped instance
         this.instance = new WeakReference{@literal &lt;&gt;}(...)
     }

     public void setOptionalDependency(OptionalDependency optionalDependency) {
         // Set optional dependency on the instance
         this.instance.set...
     }

     public SomeService get() {
         return this.instance.get();
     }

     @Init
     public void init() {
         // Init the instance
         this.instance.get().init();
     }

     @Destroy
     public void destroy() {
         // Destroy the instance
         this.instance.get().destroy();
     }
 }
 </code></pre>

 <p>
 A socket bean is a particular type of bean which is used to declare a module dependency that is a bean required or desirable by the beans in the module to operate properly. As for bean socket, it
 should be seen as an injection point at module level to inject an external bean into the module (hence the "socket" designation). From a dependency injection perspective, inside the module, a
 socket bean is considered just like any other bean and is automatically or explicitly injected in beans visible to the module. A socket bean must be an interface annotated with <a href="Bean.html" title="annotation interface in io.inverno.core.annotation"><code>@Bean</code></a>
 with a <a href="Bean.Visibility.html#PUBLIC"><code>Bean.Visibility.PUBLIC</code></a> visibility and extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a>.
 </p>

 <pre><code>
 @Bean
 public interface SocketBean implements Supplier&lt;SomeService&gt; {

 }
 </code></pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Author:</dt>
<dd><a href="mailto:jeremy.kuhn@inverno.io">Jeremy Kuhn</a></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="BeanSocket.html" title="annotation interface in io.inverno.core.annotation"><code>BeanSocket</code></a></li>
<li><a href="Wrapper.html" title="annotation interface in io.inverno.core.annotation"><code>Wrapper</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Bean.Strategy.html" class="type-name-link" title="enum class in io.inverno.core.annotation">Bean.Strategy</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 Indicates the strategy to use to instantiate the bean.</div>
</div>
<div class="col-first odd-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Bean.Visibility.html" class="type-name-link" title="enum class in io.inverno.core.annotation">Bean.Visibility</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Indicates the visibility of a bean in a module.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#name()" class="member-name-link">name</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 Indicates a name identifying the bean in the module, defaults to the name of the class.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Bean.Strategy.html" title="enum class in io.inverno.core.annotation">Bean.Strategy</a></code></div>
<div class="col-second odd-row-color"><code><a href="#strategy()" class="member-name-link">strategy</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The bean strategy which defaults to <a href="Bean.Strategy.html#SINGLETON"><code>Bean.Strategy.SINGLETON</code></a>.</div>
</div>
<div class="col-first even-row-color"><code><a href="Bean.Visibility.html" title="enum class in io.inverno.core.annotation">Bean.Visibility</a></code></div>
<div class="col-second even-row-color"><code><a href="#visibility()" class="member-name-link">visibility</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 Indicates the visibility of the bean in the module.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span></div>
<div class="block"><p>
 Indicates a name identifying the bean in the module, defaults to the name of the class.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A name</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="visibility()">
<h3>visibility</h3>
<div class="member-signature"><span class="return-type"><a href="Bean.Visibility.html" title="enum class in io.inverno.core.annotation">Bean.Visibility</a></span>&nbsp;<span class="element-name">visibility</span></div>
<div class="block"><p>
 Indicates the visibility of the bean in the module.
 </p>

 <p>
 Usually, you're most likely to create public beans exposed to other modules. Private bean are provided as a convenience to let the framework instantiate and wire internal beans instead of doing
 it explicitly.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The bean's visibility</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>PUBLIC</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="strategy()">
<h3>strategy</h3>
<div class="member-signature"><span class="return-type"><a href="Bean.Strategy.html" title="enum class in io.inverno.core.annotation">Bean.Strategy</a></span>&nbsp;<span class="element-name">strategy</span></div>
<div class="block">The bean strategy which defaults to <a href="Bean.Strategy.html#SINGLETON"><code>Bean.Strategy.SINGLETON</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The bean's strategy</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>SINGLETON</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
