<!DOCTYPE HTML>
<html lang="fr">
<head>
<!-- Generated by javadoc (21) on Mon Mar 18 11:43:18 CET 2024 -->
<title>io.inverno.mod.security (Inverno Framework SDK 1.8.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-03-18">
<meta name="description" content="declaration: module: io.inverno.mod.security">
<meta name="generator" content="javadoc/ModuleWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="module-declaration-page">
<script type="text/javascript">var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Module</li>
<li>Package</li>
<li>Class</li>
<li><a href="../overview-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html#module">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Module:</p>
<ul>
<li><a href="#module-description">Description</a></li>
<li>Modules</li>
<li><a href="#packages-summary">Packages</a></li>
<li>Services</li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Module:&nbsp;</li>
<li><a href="#module-description">Description</a>&nbsp;|&nbsp;</li>
<li>Modules&nbsp;|&nbsp;</li>
<li><a href="#packages-summary">Packages</a>&nbsp;|&nbsp;</li>
<li>Services</li>
</ul>
</div>
<div class="nav-list-search"><a href="../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Module io.inverno.mod.security" class="title">Module io.inverno.mod.security</h1>
</div>
<hr>
<div class="module-signature">module <span class="element-name">io.inverno.mod.security</span></div>
<section class="module-description" id="module-description">
<!-- ============ MODULE DESCRIPTION =========== -->
<div class="block"><p>
 The Inverno framework security module provides general support to secure access to protected service or resources in an application.
 </p>
 
 <p>
 An Inverno application divides the security process into three parts:
 </p>
 
 <dl>
 <dt><b>Authentication</b></dt>
 <dd>which is the process of authenticating a request or the entity behind it by validating credentials.</dd>
 <dt><b>Identification</b></dt>
 <dd>which is the process of identifying the authenticated entity.</dd>
 <dt><b>Access control</b></dt>
 <dd>which is the process of controling the access to protected services or resources for the authenticated entity.</dd>
 </dl>
 
 <p>
 The entity represents the originator of an access to the application, it can be external or internal. An application can secure the access to protected services or resources by authenticating the 
 entity which must provide valid credentials. An <a href="io/inverno/mod/security/accesscontrol/AccessController.html" title="interface in io.inverno.mod.security.accesscontrol"><code>AccessController</code></a> can then be obtained from the resulting <a href="io/inverno/mod/security/authentication/Authentication.html" title="interface in io.inverno.mod.security.authentication"><code>Authentication</code></a> to fine-grained control the access to services and 
 resources. The <a href="io/inverno/mod/security/identity/Identity.html" title="interface in io.inverno.mod.security.identity"><code>Identity</code></a> of the authenticated entity might also be resolved from the authentication and used whenever strong identification is required.
 </p>

 <p>
 It is important to understand that <a href="io/inverno/mod/security/authentication/Authentication.html" title="interface in io.inverno.mod.security.authentication"><code>Authentication</code></a>, <a href="io/inverno/mod/security/identity/Identity.html" title="interface in io.inverno.mod.security.identity"><code>Identity</code></a> and <a href="io/inverno/mod/security/accesscontrol/AccessController.html" title="interface in io.inverno.mod.security.accesscontrol"><code>AccessController</code></a> are decorrelated even though they are all related to the authenticated entity. We can have 
 an authentication without identification (e.g. OAuth2) and/or without access controller. 
 </p>
 
 <p>
 The <a href="io/inverno/mod/security/context/SecurityContext.html" title="interface in io.inverno.mod.security.context"><code>SecurityContext</code></a> is the central security component in an application, it is composed of above components and it should be created and used whenever there is a need to protect services 
 or resources. It allows to verify whether an authenticated entity is accessing a protected service or resource and control whether the access should be granted based on its roles, permissions or 
 any other access control method.
 </p>
 
 <p>
 A <a href="io/inverno/mod/security/SecurityManager.html" title="interface in io.inverno.mod.security"><code>SecurityManager</code></a> can be used to authenticate credentials and create a security context for an entity, it is built from an <a href="io/inverno/mod/security/authentication/Authenticator.html" title="interface in io.inverno.mod.security.authentication"><code>Authenticator</code></a>, an <a href="io/inverno/mod/security/identity/IdentityResolver.html" title="interface in io.inverno.mod.security.identity"><code>IdentityResolver</code></a> and an
 <a href="io/inverno/mod/security/accesscontrol/AccessControllerResolver.html" title="interface in io.inverno.mod.security.accesscontrol"><code>AccessControllerResolver</code></a>.
 </p>
 
 <p>
 The following is a complete example of how to authenticate an entity and obtain a security context to secure an application:
 </p>
 
 <pre><code>
     SecurityManager&lt;LoginCredentials, PersonIdentity, RoleBasedAccessController&gt; securityManager = SecurityManager.of(
         // The authenticator used to authenticate login credentials
         new UserAuthenticator&lt;&gt;(
             // The in-memory user repository initialized with one user (password is encoded before it is stored in the repository)
             InMemoryUserRepository
                 .of(List.of(
                     User.of("jsmith")
                         .identity(new PersonIdentity("jsmith", "John", "Smith", "jsmith@inverno.io"))
                         .password(new RawPassword("password"))
                         .groups("readers")
                         .build()
                     ))
                     .build(),
               // The login matcher used to match the credentials to authenticate with the stored credentials
               new LoginCredentialsMatcher&lt;&gt;()
         ),
         // The identity resolver used to resolve the identity from the authentication
         new UserIdentityResolver&lt;&gt;(),
         // The access controller resolver used to resolve the access controller from the authentication
         new GroupsRoleBasedAccessControllerResolver()
     );
     
     // Authenticating credentials and create the security context
     SecurityContext&lt;PersonIdentity, RoleBasedAccessController&gt; securityContext = securityManager.authenticate(LoginCredentials.of("jsmith", new RawPassword("password"))).block();
     
     // Secure the application
     if(securityContext.isAuthenticated()) {
         // Do something usefull with identity...
         securityContext.getIdentity().ifPresent(identity -&gt; System.out.println("Hello " + identity.getFirstName() + " " + identity.getLastName()));
     
         // Access control
         if(securityContext.getAccessController().orElseThrow().hasRole("readers").block()) {
             // Authenticated user has 'readers' role...
         }
         else {
             // unauthorized access...
             throw new AccessControlException("Unauthorized access");
         }
     }    </code></pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.5</dd>
<dt>Author:</dt>
<dd><a href="mailto:jeremy.kuhn@inverno.io">Jeremy Kuhn</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<section class="packages-summary" id="packages-summary">
<!-- ============ PACKAGES SUMMARY =========== -->
<h2>Packages</h2>
<div id="package-summary-table">
<div class="caption"><span>Exports</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/package-summary.html">io.inverno.mod.security</a></div>
<div class="col-last even-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Common Inverno security components.</div>
</div>
<div class="col-first odd-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/accesscontrol/package-summary.html">io.inverno.mod.security.accesscontrol</a></div>
<div class="col-last odd-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security access control API.</div>
</div>
<div class="col-first even-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/authentication/package-summary.html">io.inverno.mod.security.authentication</a></div>
<div class="col-last even-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security authentication API.</div>
</div>
<div class="col-first odd-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/authentication/password/package-summary.html">io.inverno.mod.security.authentication.password</a></div>
<div class="col-last odd-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security password API.</div>
</div>
<div class="col-first even-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/authentication/user/package-summary.html">io.inverno.mod.security.authentication.user</a></div>
<div class="col-last even-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security user provisioning API.</div>
</div>
<div class="col-first odd-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/context/package-summary.html">io.inverno.mod.security.context</a></div>
<div class="col-last odd-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security context API.</div>
</div>
<div class="col-first even-row-color package-summary-table package-summary-table-tab1"><a href="io/inverno/mod/security/identity/package-summary.html">io.inverno.mod.security.identity</a></div>
<div class="col-last even-row-color package-summary-table package-summary-table-tab1">
<div class="block">
 Inverno security identity API.</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
</main>
</div>
</div>
</body>
</html>
