<!DOCTYPE HTML>
<html lang="fr">
<head>
<!-- Generated by javadoc (21) on Mon Jan 20 11:27:17 CET 2025 -->
<title>WebRoute (Inverno Framework SDK 1.12.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-01-20">
<meta name="description" content="declaration: module: io.inverno.mod.web.client, package: io.inverno.mod.web.client.annotation, annotation type: WebRoute">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../../module-summary.html">io.inverno.mod.web.client</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.inverno.mod.web.client.annotation</a></div>
<h1 title="Annotation Interface WebRoute" class="title">Annotation Interface WebRoute</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#SOURCE" title="class or interface in java.lang.annotation" class="external-link">SOURCE</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">@Inherited</a>
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">WebRoute</span></div>
<div class="block"><p>
 Specifies a Web route in a Web client stub.
 </p>

 <p>
 A Web route is an annotated method in a Web client stub interface which basically defines the resource endpoints exposed on an HTTP server that needs to be consumed in an application. The method
 parameters can be bound to the request parameters or the request body using annotations like <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/CookieParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@CookieParam</code></a>,
 <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/FormParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@FormParam</code></a>, <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/HeaderParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@HeaderParam</code></a>,
 <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/PathParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@PathParam</code></a>, <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/QueryParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@QueryParam</code></a>,
 <a href="PartParam.html" title="annotation interface in io.inverno.mod.web.client.annotation"><code>@PartParam</code></a> and <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/Body.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>@Body</code></a>.
 </p>

 <p>
 Some specific method parameters can be specified when needed like a <a href="../WebExchange.Configurer.html" title="interface in io.inverno.mod.web.client"><code>WebExchange.Configurer&lt;? extends T&gt;</code></a> where <code>T</code> is the type of the
 exchange context to give access to the actual Web exchange.
 </p>

 <p>
 The method's return type should eventually expose the response from the server and it must be reactive, the HTTP request being only sent when the response <code>Mono</code> is subscribed. A Web route
 method can then return any of:
 </p>

 <ul>
 <li><code>Mono&lt;Void&gt;</code>, <code>Flux&lt;Void&gt;</code> or <code>Publisher&lt;Void&gt;</code> when no response body is expected in which case the returned publisher normally fails when an error status (i.e. <code>4xx</code> or
 <code>5xx</code>) is received from the server. This behaviour can be controlled with <a href="../WebExchange.html#failOnErrorStatus(boolean)"><code>WebExchange.failOnErrorStatus(boolean)</code></a> and
 <a href="../InterceptedWebExchange.html#failOnErrorStatus(java.util.function.Function)"><code>InterceptedWebExchange.failOnErrorStatus(java.util.function.Function)</code></a>.</li>
 <li><code>Mono&lt;WebExchange&lt;? extends T&gt;&gt;</code> where <code>T</code> is the type of the exchange context when there is a need to access the Web exchange before actually sending the request which is only sent
 when the <a href="../WebExchange.html#response()"><code>WebExchange.response()</code></a> <code>Mono</code> is subscribed. Note that this can also be achieved with a <a href="../WebExchange.Configurer.html" title="interface in io.inverno.mod.web.client"><code>WebExchange.Configurer</code></a> in
 the method parameters.</li>
 <li><code>Mono&lt;Response&gt;</code> when there is a need to access response status, headers...</li>
 <li><code>Mono&lt;ByteBuf&gt;</code>, <code>Flux&lt;ByteBuf&gt;</code> or <code>Publisher&lt;ByteBuf&gt;</code> in order to consume payload as raw data.</li>
 <li><code>Mono&lt;String&gt;</code>, <code>Flux&lt;String&gt;</code> or <code>Publisher&lt;String&gt;</code> in order to consume payload as string data.</li>
 <li><code>Mono&lt;T&gt;</code>, <code>Flux&lt;T&gt;</code> or <code>Publisher&lt;T&gt;</code> where <code>T</code> is none of the above in order to consume payload as encoded data.</li>
 </ul>

 <p>
 An encoded response payload is decoded using one of the <a href="../../../../../../../io.inverno.mod.base/io/inverno/mod/base/converter/MediaTypeConverter.html" title="interface in io.inverno.mod.base.converter"><code>MediaTypeConverter</code></a> injected in the Web client module and corresponding to the content type of the
 response. If no matching converter could be found a <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/MissingConverterException.html" title="class in io.inverno.mod.web.base"><code>MissingConverterException</code></a> stating that no media was specified will be thrown.
 </p>

 <p>
 A simple Web route can be defined as follows in a Web client stub interface:
 </p>

 <pre><code>
 @WebClient( uri = "http://host:8080/book" )
 public interface BookClient {

     @WebRoute( path = "{id}", method = Method.PUT, produces = "application/json", consumes = "application/json" )
     Book update(@PathParam String id, @Body Book book);
 }
 </code></pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.12</dd>
<dt>Author:</dt>
<dd><a href="mailto:jeremy.kuhn@inverno.io">Jeremy Kuhn</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second even-row-color"><code><a href="#consumes()" class="member-name-link">consumes</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 The list of media ranges that the request accepts from the server in the response as defined by <a href="https://tools.ietf.org/html/rfc7231#section-5.3.2">RFC 7231 Section 5.3.2</a>.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color"><code><a href="#language()" class="member-name-link">language</a></code></div>
<div class="col-last odd-row-color">
<div class="block">
 The list of language tags that the request accepts from the server in the response as defined by
 <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-5.3.5">RFC 7231 Section 5.3.5</a>.</div>
</div>
<div class="col-first even-row-color"><code><a href="../../../../../../../io.inverno.mod.http.base/io/inverno/mod/http/base/Method.html" title="enum class in io.inverno.mod.http.base">Method</a></code></div>
<div class="col-second even-row-color"><code><a href="#method()" class="member-name-link">method</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 The HTTP method to use to consume the destination resource.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#path()" class="member-name-link">path</a></code></div>
<div class="col-last odd-row-color">
<div class="block">
 The path to the destination resource relative to the destination URI.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#produces()" class="member-name-link">produces</a></code></div>
<div class="col-last even-row-color">
<div class="block">
 The media types of the content produced by the request as defined by <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-3.1.1.5">RFC 7231 Section 3.1.1.5</a>.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="method()">
<h3>method</h3>
<div class="member-signature"><span class="return-type"><a href="../../../../../../../io.inverno.mod.http.base/io/inverno/mod/http/base/Method.html" title="enum class in io.inverno.mod.http.base">Method</a></span>&nbsp;<span class="element-name">method</span></div>
<div class="block"><p>
 The HTTP method to use to consume the destination resource.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an HTTP method</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>GET</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="path()">
<h3>path</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">path</span></div>
<div class="block"><p>
 The path to the destination resource relative to the destination URI.
 </p>

 <p>
 A path can be a parameterized path as defined by <a href="../../../../../../../io.inverno.mod.base/io/inverno/mod/base/net/URIBuilder.html" title="interface in io.inverno.mod.base.net"><code>URIBuilder</code></a>. Path parameter can then be passed to the Web route method by defining
 <a href="../../../../../../../io.inverno.mod.web.base/io/inverno/mod/web/base/annotation/PathParam.html" title="annotation interface in io.inverno.mod.web.base.annotation"><code>path parameters</code></a>.
 </p>

 <p>
 Note that this path will be normalized in the resulting request.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a path</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="consumes()">
<h3>consumes</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">consumes</span></div>
<div class="block"><p>
 The list of media ranges that the request accepts from the server in the response as defined by <a href="https://tools.ietf.org/html/rfc7231#section-5.3.2">RFC 7231 Section 5.3.2</a>.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an array of media ranges</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="produces()">
<h3>produces</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">produces</span></div>
<div class="block"><p>
 The media types of the content produced by the request as defined by <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-3.1.1.5">RFC 7231 Section 3.1.1.5</a>.
 </p>

 <p>
 The request body content type basically specifies which <a href="../../../../../../../io.inverno.mod.base/io/inverno/mod/base/converter/MediaTypeConverter.html" title="interface in io.inverno.mod.base.converter"><code>MediaTypeConverter</code></a> is be used to encode the request payload.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a media type</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="language()">
<h3>language</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">language</span></div>
<div class="block"><p>
 The list of language tags that the request accepts from the server in the response as defined by
 <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-5.3.5">RFC 7231 Section 5.3.5</a>.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an array of language tags</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
