<!DOCTYPE html>
<html lang="en">
    <head><!-- Google tag (gtag.js) -->
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-GQCEQ9P38V"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-GQCEQ9P38V');
        </script>
        <meta charset="UTF-8" />
        <title>The Inverno Framework | LDAP Security Guide</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="author" content="Jeremy KUHN (jeremy.kuhn@inverno.io)" />
        <link rel="icon" type="image/svg" href="../../../img/snowflake.svg" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
        <link rel="stylesheet" type="text/css" href="../../../styles/styles.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/stackoverflow-dark.min.css" media="screen" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/ascetic.min.css" media="print" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body data-bs-spy="scroll" data-bs-target="#toc" data-bs-offset="0" tabindex="0">
        <header class="header">
            <div class="container-fluid border-bottom bg-light">
                <nav class="navbar navbar-expand-lg navbar-light container p-0 py-2 p-lg-1"><a class="navbar-brand p-0" href="../../../"> <img class="logo" src="../../../img/inverno_portable.svg" alt="The Inverno Framework" /> </a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#smallNavMenu" aria-controls="smallNavMenu" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
                    <div class="collapse" id="smallNavMenu" style="flex-basis: 100%;">
                        <ul class="navbar-nav navbar-nav-scroll border-top" style="max-height: calc(100vh - 3.75rem);">
                            <li class="nav-item mt-2"><h5>Documentation</h5>
                              <ul class="nav flex-column">
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/release/reference/html/index.html">Reference Guide</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/release/api/index.html">API Doc</a></li>
                              <li>
                              <hr class="dropdown-divider" /></li>
                              <li><h6 class="dropdown-header">User guides</h6></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/getting-started/html/index.html">Getting Started</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/redis-vue3-fullstack/html/index.html">Build a Full-Stack application</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/security-form-jws/html/index.html">Secure a Web application</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/security-rbac/html/index.html">Role-based Access Control</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/security-pbac/html/index.html">Permission-based Access Control</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="../../../docs/security-ldap/html/index.html">LDAP Security</a></li>
                              </ul></li>
                            <li class="nav-item mt-2"><h5>Projects</h5>
                              <ul class="nav flex-column">
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-core">Core</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-mods">Modules</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-dist">Distribution</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-tools">Tools</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-examples">Examples</a></li>
                              <li class="nav-item ms-4"><a class="nav-link" href="https://github.com/inverno-io/inverno-apps">Apps</a></li>
                              </ul></li>
                            <li class="nav-item mt-2"><a class="btn btn-outline-secondary" href="https://github.com/sponsors/inverno-io?o=esb" id="sponsor" role="button" aria-label="Sponsor @inverno-io" target="_top"><i class="bi bi-heart-fill"></i> Sponsor</a></li>
                        </ul>
                    </div>
                    <ul class="navbar-nav d-none d-sm-none d-lg-flex flex-fill justify-content-end align-self-stretch">
                        <li class="nav-item dropdown d-flex align-items-center me-3"><a class="nav-link dropdown-toggle text-decoration-none" href="#" id="documentationMenu" role="button" data-bs-toggle="dropdown" aria-expanded="false">Documentation</a>
                            <ul class="dropdown-menu mt-1 border-0 shadow p-3 mb-5 bg-body rounded" aria-labelledby="documentationMenu">
                              <li><a class="dropdown-item" href="../../../docs/release/reference/html/index.html">Reference Guide</a></li>
                              <li><a class="dropdown-item" href="../../../docs/release/api/index.html">API Doc</a></li>
                              <li>
                              <hr class="dropdown-divider" /></li>
                              <li><h6 class="dropdown-header">User guides</h6></li>
                              <li><a class="dropdown-item" href="../../../docs/getting-started/html/index.html">Getting Started</a></li>
                              <li><a class="dropdown-item" href="../../../docs/redis-vue3-fullstack/html/index.html">Build a Full-Stack application</a></li>
                              <li><a class="dropdown-item" href="../../../docs/security-form-jws/html/index.html">Secure a Web application</a></li>
                              <li><a class="dropdown-item" href="../../../docs/security-rbac/html/index.html">Role-based Access Control</a></li>
                              <li><a class="dropdown-item" href="../../../docs/security-pbac/html/index.html">Permission-based Access Control</a></li>
                              <li><a class="dropdown-item" href="../../../docs/security-ldap/html/index.html">LDAP Security</a></li>
                            </ul></li>
                        <li class="nav-item dropdown d-flex align-items-center me-3"><a class="nav-link dropdown-toggle text-decoration-none" href="#" id="projectsMenu" role="button" data-bs-toggle="dropdown" aria-expanded="false">Projects</a>
                            <ul class="dropdown-menu mt-1 border-0 shadow p-3 mb-5 bg-body rounded" aria-labelledby="projectsMenu">
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-core">Core</a></li>
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-mods">Modules</a></li>
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-dist">Distribution</a></li>
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-tools">Tools</a></li>
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-examples">Examples</a></li>
                              <li><a class="dropdown-item" href="https://github.com/inverno-io/inverno-apps">Apps</a></li>
                            </ul></li>
                        <li class="nav-item d-flex align-items-center"><a class="btn btn-outline-secondary" href="https://github.com/sponsors/inverno-io?o=esb" id="sponsor" role="button" aria-label="Sponsor @inverno-io" target="_top"><i class="bi bi-heart-fill"></i> Sponsor</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main id="main" class="main container">
            <div class="heading">
                <h1 class="heading-title">Inverno Framework LDAP Security Guide</h1>
                <p class="heading-subtitle">Author: <a href="mailto:jeremy.kuhn@inverno.io">Jeremy Kuhn</a></p>
            </div>
            <div class="row align-items-stretch mt-5 mb-2">
                <div class="col-12 col-lg-6 mb-3">
                    <div class="card shadow h-100">
                        <div class="card-body p-lg-5">
                            <h2 class="card-title">What you'll learn</h2>
                            <p class="card-text">This guide shows how to use an LDAP authenticator to authenticate users against an <a href="https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol">LDAP</a> server.</p>
                            <p class="card-text">It also shows how to resolve the identity of the authenticated user from the LDAP server.</p>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6 mb-3">
                    <div class="card shadow h-100">
                        <div class="card-body p-lg-5">
                            <h2 class="card-title">What you'll need</h2>
                            <ul>
                              <li>A <em>Java™ Development Kit</em> (<a href="https://openjdk.java.net/install/">OpenJDK</a>) at least version 16.</li>
                              <li>Apache <a href="https://maven.apache.org/">Maven</a> at least version 3.6.</li>
                              <li>An <em>Integrated Development Environment</em> (IDE) such as <a href="https://www.eclipse.org/">Eclipse</a> or <a href="https://www.jetbrains.com/idea/">IDEA</a> although any text editor will do.</li>
                              <li>An secured Inverno Web application, such as the <a href="https://github.com/inverno-io/inverno-apps/tree/1.2.0/inverno-ticket">Inverno Ticket</a> application following the <a href="../../../docs/security-rbac/html/index.html">Inverno Framework Role-based Access Control Guide</a>.</li>
                              <li>A basic understanding of <a href="https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol">LDAP</a>.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <section class="markdown col p-3 overflow-auto">
                <p>This guide follows the <a href="../../../docs/security-rbac/html/index.html">Inverno Framework Role-based Access Control Guide</a>. In this guide you will replace the user authenticator backed by a Redis user repository with an LDAP authenticator to authenticate users against an <a href="https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol">LDAP</a> server.</p>
                <p>The complete Inverno Ticket application can be found in <a href="https://github.com/inverno-io/inverno-apps/tree/ldap/inverno-ticket">GitHub</a>.</p>
                <h2 id="step-1-declare-inverno-security-ldap-dependencies">Step 1: Declare Inverno security LDAP dependencies</h2>
                <p>The first thing to do is to add dependencies to the Inverno LDAP module which provides an LDAP client and to the Inverno security LDAP module which provide an LDAP authenticator and an LDAP identity resolver.</p>
                <p>These dependencies should be first added to the <code>pom.xml</code> build descriptor of the project:</p>
                <pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;io.inverno.dist&lt;/groupId&gt;
        &lt;artifactId&gt;inverno-parent&lt;/artifactId&gt;
        &lt;version&gt;1.6.1&lt;/version&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;io.inverno.guide&lt;/groupId&gt;
    &lt;artifactId&gt;ticket&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;dependencies&gt;
        ...
        &lt;dependency&gt;
            &lt;groupId&gt;io.inverno.mod&lt;/groupId&gt;
            &lt;artifactId&gt;inverno-ldap&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.inverno.mod&lt;/groupId&gt;
            &lt;artifactId&gt;inverno-security-ldap&lt;/artifactId&gt;
        &lt;/dependency&gt;
        ...
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
                <p>You can now add dependencies to <code>io.inverno.mod.ldap</code> and <code>io.inverno.mod.security.ldap</code> modules in the <code>module-info.java</code> descriptor.</p>
                <pre><code class="language-java">@io.inverno.core.annotation.Module
module io.inverno.guide.ticket {
    ...
    requires io.inverno.mod.ldap;
    requires io.inverno.mod.security.ldap;
    ...
}
</code></pre>
                <p>You should now be all set and you can move on and change the authentication and identification process.</p>
                <h2 id="step-2-authenticate-with-ldap">Step 2: Authenticate with LDAP</h2>
                <p>The Inverno <em>security-ldap</em> module provides the <code>LDAPAuthenticator</code> which authenticates login credentials against an LDAP server and returns an <code>LDAPAuthentication</code> which exposes the name, DN and groups of the authenticated user.</p>
                <p>The <code>LDAPAuthenticator</code> requires an <code>LDAPClient</code> to communicate with the LDAP server, the <code>LDAPClient</code> is provided by the <em>ldap</em> module and can then be injected in the <code>SecurityConfigurer</code> to create the authenticator.</p>
                <blockquote>
                    <p>The <code>LDAPClient</code> connects to <code>ldap://localhost:1389</code> by default, this can be changed by configuration.</p>
                </blockquote>
                <p>Let's change the <code>SecurityConfigurer</code> to use the <code>LDAPAuthenticator</code> instead of the <code>UserAuthenticator</code>:</p>
                <pre><code class="language-java">package io.inverno.app.ticket.internal.security;

...
import io.inverno.mod.security.ldap.authentication.LDAPAuthentication;
import io.inverno.mod.security.ldap.authentication.LDAPAuthenticator;
...

@WebRoutes({
    @WebRoute(path = { "/login" }, method = { Method.GET }),
    @WebRoute(path = { "/login" }, method = { Method.POST }),
    @WebRoute(path = { "/logout" }, method = { Method.GET }, produces = { "application/json" }),
})
@Bean( visibility = Bean.Visibility.PRIVATE )
public class SecurityConfigurer implements WebRoutesConfigurer&lt;SecurityContext&lt;PersonIdentity, RoleBasedAccessController&gt;&gt;, WebInterceptorsConfigurer&lt;InterceptingSecurityContext&lt;PersonIdentity, RoleBasedAccessController&gt;&gt;, ErrorWebRouterConfigurer&lt;ExchangeContext&gt; {

    private final LDAPClient ldapClient;
    ...

    public SecurityConfigurer(LDAPClient ldapClient, JWSService jwsService) {
        this.ldapClient = ldapClient;
        ...
    }

    @Override
    public void configure(WebRoutable&lt;SecurityContext&lt;PersonIdentity, RoleBasedAccessController&gt;, ?&gt; routes) {
        routes
            ...
            .route()
                .path("/login")
                .method(Method.POST)
                .handler(new LoginActionHandler&lt;&gt;(
                    new FormCredentialsExtractor(),
                    new LDAPAuthenticator(this.ldapClient, "dc=inverno,dc=io")
                        .failOnDenied()
                        .flatMap(authentication -&gt; this.jwsService.builder(LDAPAuthentication.class)
                            .header(header -&gt; header
                                .keyId("tkt")
                                .algorithm(OCTAlgorithm.HS512.getAlgorithm())
                            )
                            .payload(authentication)
                            .build(MediaTypes.APPLICATION_JSON)
                            .map(JWSAuthentication::new)
                        ),
                    LoginSuccessHandler.of(
                        new CookieTokenLoginSuccessHandler&lt;&gt;(),
                        new RedirectLoginSuccessHandler&lt;&gt;()
                    ),
                    new RedirectLoginFailureHandler&lt;&gt;()
                ))
            ...
    ...
}
</code></pre>
                <p>As you can see, the user repository is no longer required and the <code>LDAPClient</code> is now injected instead. The <code>LDAPAuthenticator</code> simply replaces the <code>UserAuthenticator</code> but the JWS token creation remains <em>almost</em> untouched.</p>
                <blockquote>
                    <p>At this point you can consider completely removing the <code>UserRepositoryWrapper</code> bean as it is not used anymore.</p>
                </blockquote>
                <h2 id="step-3-resolve-identity-from-ldap">Step 3: Resolve identity from LDAP</h2>
                <p>The <code>SecurityConfigurer</code> is still declaring <code>PersonIdentity</code> which cannot be resolved from an <code>LDAPAuthentication</code>, as a result at this stage the application is not runnable and you need to replace the <code>PersonIdentity</code> by the <code>LDAPIdentity</code>.</p>
                <p>You must change this in the <code>SecurityConfigurer</code> and also replace the <code>UserIdentityResolver</code> by an <code>LDAPIdentityResolver</code> in the <code>SecurityInterceptor</code>:</p>
                <pre><code class="language-java">package io.inverno.app.ticket.internal.security;

...
import io.inverno.mod.security.ldap.authentication.LDAPAuthentication;
import io.inverno.mod.security.ldap.authentication.LDAPAuthenticator;
import io.inverno.mod.security.ldap.identity.LDAPIdentity;
import io.inverno.mod.security.ldap.identity.LDAPIdentityResolver;
...

@WebRoutes({
    @WebRoute(path = { "/login" }, method = { Method.GET }),
    @WebRoute(path = { "/login" }, method = { Method.POST }),
    @WebRoute(path = { "/logout" }, method = { Method.GET }, produces = { "application/json" }),
})
@Bean( visibility = Bean.Visibility.PRIVATE )
public class SecurityConfigurer implements WebRoutesConfigurer&lt;SecurityContext&lt;LDAPIdentity, RoleBasedAccessController&gt;&gt;, WebInterceptorsConfigurer&lt;InterceptingSecurityContext&lt;LDAPIdentity, RoleBasedAccessController&gt;&gt;, ErrorWebRouterConfigurer&lt;ExchangeContext&gt; {

    ...
    @Override
    public void configure(WebRoutable&lt;SecurityContext&lt;LDAPIdentity, RoleBasedAccessController&gt;, ?&gt; routes) {
        ...
    }

    @Override
    public void configure(WebInterceptable&lt;InterceptingSecurityContext&lt;LDAPIdentity, RoleBasedAccessController&gt;, ?&gt; interceptors) {
        interceptors
            .intercept()
                .path("/")
                .path("/api/**")
                .path("/static/**")
                .path("/webjars/**")
                .path("/open-api/**")
                .path("/logout")
                .interceptors(List.of(
                    SecurityInterceptor.of(
                        new CookieTokenCredentialsExtractor(),
                        new JWSAuthenticator&lt;&gt;(
                            this.jwsService,
                            LDAPAuthentication.class
                        )
                        .failOnDenied()
                        .map(jwsAuthentication -&gt; jwsAuthentication.getJws().getPayload()),
                        new LDAPIdentityResolver(this.ldapClient),
                        new GroupsRoleBasedAccessControllerResolver()
                    ),
                    AccessControlInterceptor.authenticated()
                ))
                .intercept()
                    .path("/open-api/**")
                    .interceptor(AccessControlInterceptor.verify(securityContext -&gt; securityContext.getAccessController()
                        .orElseThrow(() -&gt; new ForbiddenException("Missing access controller"))
                        .hasRole("developer")
                    ));
    }
    ...
}
</code></pre>
                <p>Note that the <code>GroupsRoleBasedAccessControllerResolver</code> can still be used with the <code>LDAPAuthentication</code> which is now wrapped in the JWS token as it implements <code>GroupAwareAuthentication</code>.</p>
                <h2 id="step-4-run-the-application">Step 4: Run the application</h2>
                <p>You can now clean up the <code>TicketApp</code> class and remove the code related to the creation of users in the user repository as this is no longer needed.</p>
                <p>In order to run the application, you must first setup a local LDAP server with users <code>jsmith</code> and <code>tktadmin</code> (<code>admin</code> is reserved) in <code>io.inverno</code> organization, this can be done quite easily using <a href="https://docs.docker.com/compose/">Docker compose</a>.</p>
                <p>The following <code>docker-compose.yml</code> file can be used to start an <a href="https://www.openldap.org/">OpenLDAP</a> server with preset users:</p>
                <pre><code class="language-yaml">version: '3'

services:
  ldap:
    image: bitnami/openldap:2.6.2
    ports:
      - '1389:1389'
      - '1636:1636'
    environment:
      - LDAP_ROOT=dc=inverno,dc=io
    volumes:
      - /home/jkuhn/Devel/git/winter/inverno-io.gtihub.io/docs/security-ldap/ldifs:/ldifs
</code></pre>
                <p>File <code>data.ldif</code> file must be provided to initialize the <code>io.inverno</code> organization:</p>
                <pre><code class="language-plaintext"># inverno.io
dn: dc=inverno,dc=io
objectClass: dcObject
objectClass: organization
dc: inverno
o: inverno

# users, inverno.io
dn: ou=users,dc=inverno,dc=io
objectClass: organizationalUnit
ou: users

# jsmith, users, inverno.io
dn: cn=jsmith,ou=users,dc=inverno,dc=io
cn: jsmith
objectClass: inetOrgPerson
userPassword:: cGFzc3dvcmQ=
uid: jsmith
givenName: John
sn: Smith
displayName: John Smith
mail: jsmith@inverno.io
employeeType: dummy
title: Chief
telephoneNumber: +1 408 555 1862
mobile: +1 408 555 1941

# tktadmin, users, inverno.io
dn: cn=tktadmin,ou=users,dc=inverno,dc=io
cn: tktadmin
objectClass: inetOrgPerson
userPassword:: cGFzc3dvcmQ=
uid: tktadmin
givenName: tktadmin
sn: tktadmin
displayName: Admin
mail: tktadmin@inverno.io
employeeType: dummy

# developer, users, inverno.io
dn: cn=developer,ou=users,dc=inverno,dc=io
cn: developer
objectClass: groupOfNames
member: cn=jsmith,ou=users,dc=inverno,dc=io

# admin, users, inverno.io
dn: cn=admin,ou=users,dc=inverno,dc=io
cn: admin
objectClass: groupOfNames
member: cn=tktadmin,ou=users,dc=inverno,dc=io

</code></pre>
                <p>Now create an <code>openldap/</code> directory with the following structure:</p>
                <pre><code class="language-plaintext">openldap/
├── docker-compose.yml
└── ldifs
    └── data.ldif
</code></pre>
                <p>From the <code>openldap/</code> directory, you can start the OpenLDAP server with the following command:</p>
                <pre><code class="language-plaintext">$ docker-compose up -d
Creating network "openldap_default" with the default driver
Creating openldap_ldap_1 ... done
</code></pre>
                <p>You can now start the Inverno Ticket application:</p>
                <pre><code class="language-plaintext">$ mvn inverno:run
...
[INFO] --- inverno-maven-plugin:1.4.1:run (default-cli) @ inverno-ticket ---
[INFO] Running project: io.inverno.app.ticket@1.2.0-SNAPSHOT...
 [═══════════════════════════════════════════════ 100&nbsp;% ══════════════════════════════════════════════] 
2022-08-11 16:54:48,929 INFO  [main] i.i.a.t.TicketApp - Active profile: default
2022-08-11 16:54:49,044 INFO  [main] i.i.c.v.Application - Inverno is starting...


     ╔════════════════════════════════════════════════════════════════════════════════════════════╗
     ║                      , ~~ ,                                                                ║
     ║                  , '   /\   ' ,                                                            ║
     ║                 , __   \/   __ ,      _                                                    ║
     ║                ,  \_\_\/\/_/_/  ,    | |  ___  _    _  ___   __  ___   ___                 ║
     ║                ,    _\_\/_/_    ,    | | / _ \\ \  / // _ \ / _|/ _ \ / _ \                ║
     ║                ,   __\_/\_\__   ,    | || | | |\ \/ /|  __/| | | | | | |_| |               ║
     ║                 , /_/ /\/\ \_\ ,     |_||_| |_| \__/  \___||_| |_| |_|\___/                ║
     ║                  ,     /\     ,                                                            ║
     ║                    ,   \/   ,                                 -- 1.5.3 --                  ║
     ║                      ' -- '                                                                ║
     ╠════════════════════════════════════════════════════════════════════════════════════════════╣
     ║ Java runtime        : OpenJDK Runtime Environment                                          ║
     ║ Java version        : 17.0.2+8-86                                                          ║
     ║ Java home           : /home/jkuhn/Devel/jdk/jdk-17.0.2                                     ║
     ║                                                                                            ║
     ║ Application module  : io.inverno.app.ticket                                                ║
     ║ Application version : 1.2.0-SNAPSHOT                                                       ║
     ║ Application class   : io.inverno.app.ticket.TicketApp                                      ║
     ║                                                                                            ║
     ║ Modules             :                                                                      ║
     ║  * ...                                                                                     ║
     ╚════════════════════════════════════════════════════════════════════════════════════════════╝


2022-08-11 16:54:49,049 INFO  [main] i.i.a.t.Ticket - Starting Module io.inverno.app.ticket...
2022-08-11 16:54:49,050 INFO  [main] i.i.m.b.Boot - Starting Module io.inverno.mod.boot...
2022-08-11 16:54:49,368 INFO  [main] i.i.m.b.Boot - Module io.inverno.mod.boot started in 318ms
2022-08-11 16:54:49,369 INFO  [main] i.i.m.l.Ldap - Starting Module io.inverno.mod.ldap...
2022-08-11 16:54:49,374 INFO  [main] i.i.m.l.Ldap - Module io.inverno.mod.ldap started in 4ms
2022-08-11 16:54:49,374 INFO  [main] i.i.m.r.l.Lettuce - Starting Module io.inverno.mod.redis.lettuce...
2022-08-11 16:54:49,432 INFO  [main] i.i.m.r.l.Lettuce - Module io.inverno.mod.redis.lettuce started in 58ms
2022-08-11 16:54:49,433 INFO  [main] i.i.m.s.j.Jose - Starting Module io.inverno.mod.security.jose...
2022-08-11 16:54:49,514 INFO  [main] i.i.m.s.j.Jose - Module io.inverno.mod.security.jose started in 81ms
2022-08-11 16:54:49,515 INFO  [main] i.i.m.w.Web - Starting Module io.inverno.mod.web...
2022-08-11 16:54:49,515 INFO  [main] i.i.m.h.s.Server - Starting Module io.inverno.mod.http.server...
2022-08-11 16:54:49,515 INFO  [main] i.i.m.h.b.Base - Starting Module io.inverno.mod.http.base...
2022-08-11 16:54:49,519 INFO  [main] i.i.m.h.b.Base - Module io.inverno.mod.http.base started in 4ms
2022-08-11 16:54:49,733 INFO  [main] i.i.m.h.s.i.HttpServer - HTTP Server (epoll) listening on http://0.0.0.0:8080
2022-08-11 16:54:49,734 INFO  [main] i.i.m.h.s.Server - Module io.inverno.mod.http.server started in 219ms
2022-08-11 16:54:49,735 INFO  [main] i.i.m.w.Web - Module io.inverno.mod.web started in 220ms
2022-08-11 16:54:49,742 INFO  [main] i.i.a.t.Ticket - Module io.inverno.app.ticket started in 695ms
2022-08-11 16:54:49,744 INFO  [main] i.i.c.v.Application - Application io.inverno.app.ticket started in 811ms
</code></pre>
                <p>You should be able to access the Inverno Ticker application at <a href="http://localhost:8080">http://localhost:8080</a> and authenticate with users <code>jsmith/password</code> and <code>tktadmin/password</code> which should respectively have role <code>developer</code> and <code>admin</code>:</p> <img class="img-fluid shadow" src="img/inverno_ticket_authenticated_ldap.png" style="display: block; margin: 2em auto;" alt="Inverno Ticket application with LDAP" />
                <p>If you access <a href="http://localhost:8080/api/security/identity">http://localhost:8080/api/security/identity</a>, you should now see an LDAP identity:</p> <img class="img-fluid shadow" src="img/ldap_identity.png" style="display: block; margin: 2em auto;" alt="LDAP identity" />
                <p>Congratulations! You know how to authenticate and identify users with an LDAP server in an Inverno application.</p>
            </section>
        </main>
        <footer class="footer bg-light border-top mt-5">
            <div class="container p-5">
                <div class="row mb-5">
                    <div class="col col-lg-3">
                        <h5>Documentation</h5>
                        <ul class="nav flex-column">
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/release/reference/html/index.html">Reference</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/release/api/index.html">API Doc</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/getting-started/html/index.html">Getting Started</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/redis-vue3-fullstack/html/index.html">Build a Full-Stack application</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/security-form-jws/html/index.html">Secure a Web application</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/security-rbac/html/index.html">Role-based Access Control</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/security-pbac/html/index.html">Permission-based Access Control</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="../../../docs/security-ldap/html/index.html">LDAP Security</a></li>
                        </ul>
                    </div>
                    <div class="col col-lg-3">
                        <h5>Projects</h5>
                        <ul class="nav flex-column">
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-core">Core</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-mods">Modules</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-dist">Distribution</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-tools">Tools</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-examples">Examples</a></li>
                            <li class="nav-item"><a class="nav-link px-0" href="https://github.com/inverno-io/inverno-apps">Apps</a></li>
                        </ul>
                    </div>
                    <div class="col d-none d-lg-block"><iframe src="https://github.com/sponsors/inverno-io/card" title="Sponsor inverno-io" height="225" width="600" style="border: 0;"></iframe>
                    </div>
                </div>
            </div>
            <div class="p-3 mb-5 text-center">
                <p class="fw-light fs-6">The Inverno Framework is released under version 2.0 of the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License</a>.</p>
                <p class="fw-light fs-6">Copyright © 2024, The Inverno Framework</p>
            </div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    </body>
</html>